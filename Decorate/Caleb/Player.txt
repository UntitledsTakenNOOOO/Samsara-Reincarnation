Actor CalebClass : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }

actor Caleb : SamsaraPlayerPawnNormalRedBlood
{
	Player.startitem "CalebClass"
	Player.CrouchSprite "CALC"
	Player.displayname "Caleb"
    Player.startitem "   Revolver   ", 1
	Player.startitem "Pitchfork", 1	
	Player.StartItem "IsSamsaraClass", 1
	Player.StartItem "TauntButton", 1
	Player.soundclass "Caleb"
	Player.ColorRange 112, 127
	Species "Player"
	RadiusDamageFactor 1.15
	DamageFactor "RebelMissile", 0
	DamageFactor "SWFlameCoop", 0.0	
	DamageFactor "CMDMGSHIT", 0.0  
	DamageFactor "SWStickyCoop", 0.0  
	DamageFactor "PoisonCloud", 1.9
    DamageFactor "Wraithverge", 1.1
    DamageFactor "CorvusCrossbow", 1.2
    DamageFactor "DragonClaw", 1.2
    DamageFactor "PoisonCloud", 1.1
    DamageFactor "Pistol", 1.041
    DamageFactor "DoomFist", 1.061
    DamageFactor "ZorchPistol", 1.1
    DamageFactor "BFG", 1.1
    DamageFactor "BFGSpray", 1.1
    DamageFactor "Normal", 1.026
    DamageFactor "Zorch", 1.1
    DamageFactor "ZorchKamikaze", 1.1
    DamageFactor "PhasingZorch", 1.1
    DamageFactor "Ice", 1.039
    DamageFactor "Fire", 1.069
    DamageFactor "Slime", 1.049
    DamageFactor "Disintegrate", 1.1
    DamageFactor "Poison", 1.054
    DamageFactor "WolfenFlamethrower", 1.1
    DamageFactor "DukeDamage", 1.051
    DamageFactor "DukeExplosive", 1.031
    DamageFactor "DukeSpectral", 1.1
    DamageFactor "MightyBoot", 1.6
    DamageFactor "DukeIce", 1.021
	DamageFactor "PunchDagger", 1.1
	DamageFactor "StrifePistol", 1.1
	DamageFactor "ElectricBolt", 1.1
	DamageFactor "PoisonBolt", 1.1
	DamageFactor "MiniExplosive", 1.1
	DamageFactor "StrifeExplosive", 1.1
	DamageFactor "StrifeRebelBullet", 1.1
	DamageFactor "PhosFireCoop", 0.0
    DamageFactor "C7MineBoom", 0.0	
    DamageFactor "DukePistol", 1.1
    DamageFactor "MarathonPistol", 1.1
    DamageFactor "Explosive", 1.088
    DamageFactor "DoomPlasma", 1.1
    DamageFactor "MarathonFusion", 1.1
    DamageFactor "Mace", 1.1
    DamageFactor "CorvusHellstaff", 1.1
	DamageFactor "CorvusHellstaffTomed", 1.1
    DamageFactor "MarathonPlasma", 1.1
    DamageFactor "BJSpear", 1.1
    DamageFactor "DoomCacodemon", 1.089
    DamageFactor "DoomHellNoble", 1.099
    DamageFactor "DoomSpiderPlasma", 1.065
    DamageFactor "DoomTheseGuysAreTheBest", 1.078
    DamageFactor "HereNitrogolem", 1.1
    DamageFactor "HereAxeGreen", 1.1
    DamageFactor "HereAxeRed", 1.1
    DamageFactor "Wizard", 1.1
    DamageFactor "HereLichWind", 1.1
    DamageFactor "HereDsparil", 1.1
    DamageFactor "HexBishop", 1.1
    DamageFactor "HexSlaughtaur", 1.1
    DamageFactor "HexGreenFire", 1.1
    DamageFactor "HexStalkerShot", 1.1
    DamageFactor "HexHeresiarchPurple", 1.1
    DamageFactor "WMCBeam", 0.85
    DamageFactor "WMCNade", 0.85
    DamageFactor "QuakePistol", 1.1
    DamageFactor "NotQuadded", 1.1
    DamageFactor "SpectralNoQuad", 1.1
	DamageFactor "FireExplosive", 1.1
	Damagefactor "RottExplosive", 1.1
	DamageFactor "RottFire", 1.1
	DamageFactor "RottBullet", 1.1
	DamageFactor "BlakePlasma", 1.1
	DamageFactor "BlakeBullet", 1.1
	DamageFactor "Dynamite", 0.8
	DamageFactor "DynamiteCoop", 0.2
	DamageFactor "LifeLeech", 1.088
	DamageFactor "Tesla", 1.079
	DamageFactor "Shock", 0.350
	DamageFactor "CalebBullet", 0.979
	DamageFactor "CalebNapalm", 0.689
	DamageFactor "CalebFire", 0.390
	DamageFactor "PhosFireCoop", 0.0
    DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "EradCoopExplosive2", 0.0
	DamageFactor "BCannonProj", 0.80
    DamageFactor "RMR-BigPlasma", 0.96		
	DamageFactor "SWNukeCoop", 0.0		
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	DamageFactor "EnemyInfightDamage", 0.0
	player.jumpz 11.25 //jumping distance increased // blood had an op jump, didnt it?
    Player.StartItem "Clip", 50
	XScale 0.56
	YScale 0.46
	+NOBLOODDECALS
	BloodType "NashGore_Blood_Monolith"
	var int user_scalex;
	var int user_scaley;
    states
    {
		Spawn:
			CALE A 0
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_JumpIf(momz >> 0, "Jumping")
			CALE EEEEEEE 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_JumpIf(momz >> 0, "Jumping")
			CALE EEEEEEE 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_JumpIf(momz >> 0, "Jumping")
			CALE EEEEEEE 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_JumpIf(momz >> 0, "Jumping")
			CALE EEEEEEE 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_JumpIf(momz >> 0, "Jumping")
			CALE EEEEEEE 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIfInventory("CalebWaiting",60,"WaitingTooLong")
			TNT1 A 0 A_GiveInventory("CalebWaiting",1)	
			Loop
		WaitingTooLong:
			CALE E 1 A_GiveInventory("PlayerController",1)
			CALE E 1 A_TakeInventory("CalebWaiting", 60)
			Goto Spawn
		See:
			TNT1 A 0 A_TakeInventory("CalebWaiting", 60)
			TNT1 A 0 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			CALE AAAA 1 A_JumpIf(momz >> 0, "Jumping")
			TNT1 A 0 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			CALE BBBB 1 A_JumpIf(momz >> 0, "Jumping")
			TNT1 A 0 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			CALE CCCC 1 A_JumpIf(momz >> 0, "Jumping")
			TNT1 A 0 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			CALE DDDD 1 A_JumpIf(momz >> 0, "Jumping")
			Loop
		Missile:
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_TakeInventory("CalebWaiting", 60)
			CALE EEEE 1 A_GiveInventory("PlayerController",1)
			Goto Spawn
		Melee:
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_TakeInventory("CalebWaiting", 60)
			TNT1 A 0 A_JumpIfInventory("UsingPitchfork", 1, "Missile")
			CALE FFFFF 1 BRIGHT A_GiveInventory("PlayerController",1)
			Goto Missile
		Pain:
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_TakeInventory("CalebWaiting", 60)
			CALE GGGG 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_Pain
			CALE GGGG 1 A_GiveInventory("PlayerController",1)
			Goto Spawn
		Jumping:
			CALS A 0 A_JumpIf(waterlevel > 2, "Swim")
			CALS GGG 1
			CALS G 1 A_JumpIf(momz >> 0, "Jumping")
			goto Spawn
		Swim:
			CALS AAAA 1 A_JumpIf(waterlevel <= 2, "See")
			CALS BBBB 1 A_JumpIf(waterlevel <= 2, "See")
			CALS CCCC 1 A_JumpIf(waterlevel <= 2, "See")
			CALS DDDD 1 A_JumpIf(waterlevel <= 2, "See")
			CALS EEEE 1 A_JumpIf(waterlevel <= 2, "See")
			CALS FFFF 1 A_JumpIf(waterlevel <= 2, "See")
			Loop
		Pain.WolfenFlamethrower:
		Pain.HexGreenFire:
		Pain.PGFire:
		Pain.MarathonPlasmaFire:
		Pain.QuakeFire:
		Pain.FireExplosive:
		Pain.PhosFire:	
		Pain.PhosFireCoop:
		Pain.WTRangedFire:
		Pain.RTCWFire:
		Pain.DoomDamageTypeFire:
		Pain.DoomDamageTypeFireExplosive:
		Pain.CalebFire:
		Pain.LifeLeech:
		Pain.EradGreenFire:
		Pain.EradCoopGreenFire:
		Pain.SWFlame:
		Pain.SWFlame2:
		Pain.SWFlame2Coop:
		Pain.SWFlame3:	
		Pain.PSFire:
		Pain.Hexen2Fire:
		Pain.PainkillerFire:
		Pain.Fire:
			TNT1 A 0 A_JumpIf(waterlevel > 2, "Swim")
			TNT1 A 0 A_TakeInventory("CalebWaiting", 60)
			CALE GGGG 1 A_GiveInventory("PlayerController",1)
			TNT1 A 0 A_PlaySound("*burndeath", CHAN_VOICE)
			CALE GGGG 1 A_GiveInventory("PlayerController",1)
			Goto Spawn	
		Death:
			TNT1 A 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			TNT1 A 0 A_TakeInventory("sawedoffcheck",999)	
			TNT1 A 0 A_TakeInventory("TommyCounter2",999)
			TNT1 A 0 A_TakeInventory("TommyCounter",999)
			TNT1 A 0 A_TakeInventory("TNTCounter",3)
			TNT1 A 0 A_TakeInventory("ThrowPower", 255)
			TNT1 A 0 A_TakeInventory("ThrowPowerBig", 200)	
			TNT1 A 0 A_TakeInventory("TNT2", 100)		
			TNT1 A 0 A_TakeInventory("TNTSoundDelay", 999)				
			TNT1 A 0 A_TakeInventory("RemoveVodoo",1)		
			TNT1 A 0 A_TakeInventory("usingpitchfork",1)					  
			TNT1 A 0 A_GiveInventory("PlayerController",10)
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")		
			TNT1 A 0 A_Jump(128,"Style2")		
		Style1:	
			CALE Q 5
			CALE Q 5 A_PlayerScream
			CALE R 9 A_NoBlocking
			CALE S 8
			CALE TUV 7
			CALE W -1
			Stop
		Style2:  
			CALE H 5
			CALE H 5 A_PlayerScream	
			CALE I 9 A_NoBlocking
			CALE J 8 
			CALE KLM 7
			CALE N -1
			Stop
		XDeath:
			TNT1 A 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	
			TNT1 A 0 A_TakeInventory("sawedoffcheck",999)	
			TNT1 A 0 A_TakeInventory("TommyCounter2",999)
			TNT1 A 0 A_TakeInventory("TommyCounter",999)
			TNT1 A 0 A_TakeInventory("TNTCounter",3)
			TNT1 A 0 A_TakeInventory("ThrowPower", 255)
			TNT1 A 0 A_TakeInventory("ThrowPowerBig", 200)	
			TNT1 A 0 A_TakeInventory("TNT2", 100)		
			TNT1 A 0 A_TakeInventory("RemoveVodoo",1)		
			TNT1 A 0 A_TakeInventory("TNTSoundDelay", 999)				
			TNT1 A 0 A_TakeInventory("usingpitchfork",1)			
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnDebris("CalebHand")
			TNT1 A 0 A_SpawnDebris("CalebLeg")
			TNT1 A 0 A_Jump(128,1,2,3)			
			TNT1 AAAAAAA 0 A_Spawndebris("ZBloodOrganDebris2")		
			TNT1 A 0 A_SpawnDebris("ZBloodBloodliver")	
			TNT1 A 0 A_SpawnDebris("ZBloodOrganDebris")
			TNT1 A 0 A_SpawnDebris("ZBloodEyeGuts")
			TNT1 A 0 A_SpawnDebris("ZBloodHand1")
			TNT1 A 0 A_SpawnDebris("CalebHead")
			TNT1 A 0 A_SpawnDebris("CalebHat")		
			TNT1 A 0 A_Jump(128,1,2,3,4,5)
			TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith", 0, 0, 0, FRandom(0.1, 6.0) * Random(-1, 1), FRandom(0.1, 6.0) * Random(-1, 1), FRandom((Random(3.0,1.0)), (Random(8.0,6.0))) * FRandom((Random(3,2)), 1), 0, NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
			TNT1 A 0 A_PlaySound("Blood/gib5",CHAN_AUTO,1.0,0,ATTN_NORM)	
			TNT1 A 5 A_NoBlocking	
			ACLO E -1
			Stop  
		Burn:
			TNT1 A 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			TNT1 A 0 A_TakeInventory("sawedoffcheck",999)	
			TNT1 A 0 A_TakeInventory("TommyCounter2",999)
			TNT1 A 0 A_TakeInventory("TommyCounter",999)
			TNT1 A 0 A_TakeInventory("usingpitchfork",1)
			TNT1 A 0 A_TakeInventory("RemoveVodoo",1)		
			TNT1 A 0 A_TakeInventory("TNTCounter",3)
			TNT1 A 0 A_TakeInventory("ThrowPower", 255)
			TNT1 A 0 A_TakeInventory("ThrowPowerBig", 200)	
			TNT1 A 0 A_TakeInventory("TNTSoundDelay", 999)				
			TNT1 A 0 A_TakeInventory("TNT2", 100)		
			TNT1 A 0 A_Fall
			ACLO E 0 A_SpawnItem("BurnDeathCaleb")
			ACLO E 5 A_Playsound("Caleb/Burn4")		
			ACLO E -1
			Stop
		Death.DukeIce:
			"####" "#" 0 A_Jump(218,"Ice")
			"####" "#" 0 A_GiveToTarget("DukeDMTaunt1",1)
		Ice:
		Death.HexenIce:
		Death.Ice:
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_PlayerFreezeTranslation")
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			"####" "#" 0 A_PlayWeaponSound("misc/freeze")
			"####" "#" 0 A_UnsetSolid
			"####" "#" 70
			"####" "#" 0 A_SetTranslucent(0,0)
			"####" "######################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(8,48),random(-2,2),random(-2,2),random(1,6))
			ACLO E 1 A_PlayWeaponSound("misc/icebreak")//A_FreezeDeathChunks
			TNT1 A -1
			Stop	
		Disintegrate:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Disintegrate
		Death.RottDisintegrate:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.RottDisintegrate
		Death.Nuke:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.Nuke
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.ZorchSpectral
		Death.TotenkopfFire:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.TotenkopfFire
		Death.RottFire:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.RottFire
		XDeathForRanger:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::XDeathForRanger
		Death.Nuke:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.Nuke
		Death.RottExplosive:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.RottExplosive
		Death.FreemanGibs:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.FreemanGibs
		XDeathForBitterman:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::XDeathForBitterman
		XDeathForDemoness:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::XDeathForDemoness
		UnrealXDeath:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::UnrealXDeath
		RTCWXDeath2:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::RTCWXDeath2
		XDeath.Q3Energy:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::XDeath.Q3Energy
		Death.DukePlasma:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			Goto Super::Death.DukePlasma
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Pain.ShrinkerDMG:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			CALE G 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("Caleb_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		Pain.Shock:
		Pain.Tesla:
			CBGS J 4 A_Pain
			CBGS J 4
			Goto See
		Death.CalebFire:
		Death.LifeLeech:
			"####" "#" 0 A_TakeInventory("CalebTNTReadyDummy",1)	  	  
			"####" "#" 0 A_TakeInventory("sawedoffcheck",999)	
			"####" "#" 0 A_TakeInventory("TommyCounter2",999)
			"####" "#" 0 A_TakeInventory("TommyCounter",999)
			"####" "#" 0 A_TakeInventory("usingpitchfork",1)
			"####" "#" 0 A_TakeInventory("RemoveVodoo",1)		
			"####" "#" 0 A_TakeInventory("TNTCounter",3)
			"####" "#" 0 A_TakeInventory("TNT2",1)
			"####" "#" 0 A_TakeInventory("TNTSoundDelay",999)		
			"####" "#" 0 A_TakeInventory("ThrowPowerBig",200)
			"####" "#" 0 A_TakeInventory("ThrowPower",255)
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			TNT1 A 0 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Silent", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_UnsetSolid
			TNT1 A -1
			Stop
	}
}

Actor Caleb_Shrink : Caleb
{
	Player.ForwardMove 0.25
	Player.SideMove 0.25
	Player.MorphWeapon "ShrunkWeapon"
	Player.ViewHeight 8
	DamageFactor "ZorchPistol", 0.0
	DamageFactor "Zorch", 0.0
	DamageFactor "ZorchKamikaze", 0.0
	DamageFactor "PhasingZorch", 0.0
	DamageFactor "ZorchSpectral", 0.0
	MaxStepHeight 2
	Height 8
	Radius 4
	-SOLID
	+NOPAIN
	States
	{
		Spawn:
			CALE E 1
			Loop
		See:
			CALE ABCD 4
			Loop
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:	  
		Death.MarathonPlasma:
		Burn:
		Death.TotenkopfFire:
		Death.DukeDamage:
		Death.DukePistol:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Ice:
		Death.HexenIce:
		Death.Ice:
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		Death.RottExplosive:
		Death.RottFire:
		Death.RottDisintegrate:
		Death.CalebFire:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.Shock:  
		Death.Tesla:
		Death.CalebBullet:
		Disintegrate:
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
		Death.Nuke:
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:
		Death.HLEgon:
		Death.FreemanGibs:
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:
		Death.PSFire:
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
		Death.BittermanDamage:
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		Death.Painkiller:
		Death.PainkillerBullet:
		Death.PainkillerElectro:
		Death.PainkillerExplosive:
		Death.PainkillerShuriken:
		Death.PainkillerDemon:
		Death.PainkillerStake:
		Death.PainkillerFire:
		PainkillerGib:
		Death.UnrealDamage:
		Death.UnrealPlasma:
		Death.UnrealSludge:
		Death.ASMDShockTrace:
		Death.UnrealExplosive:
		Death.UnrealRazor:
		Death.UnrealExtreme:
		Death.UnrealRedeemer:
		Death.UnrealShredded:
		UnrealXDeath:
		Death.RTCWVenomBullet:
		Death.RTCWExplosive:
		RTCWXDeath:
		RTCWXDeath2:
		Death.Q3Explosive:
		Death.Q3Energy:
		Death.Q3BFG:
		XDeath.Q3Explosive:
		XDeath.Q3Energy:
		Death.DeusExPistolFire:
		Death.DeusExFlamed:
		Death.DeusExLAM:
		Death.DeusExRifleExploded:
		Death.DeusExSabotPistol:
		Death.DeusExSabot:
		Death.DeusExBurned:
		Death.DeusExExploded:
		DeusXDeath:
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		Death.DukeSquish:
		XDeath.DukeSquish:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			CALE G 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
	}
}

actor Caleb_ShrinkEffect : Caleb
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			CALE G 0
			CALE G 0 A_SetUserVar("user_scalex", scalex*65536.0)
			CALE G 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor LaughDelay : PowerDamage // Given when Caleb does maniacal laugh for gibbing
{
	powerup.duration -3
	damagefactor "nothing", 1.0
}

Actor DoLaugh : CustomInventory
{
	inventory.amount 1
	inventory.maxamount 1
	+AUTOACTIVATE
	+ALWAYSPICKUP
	States
	{
		Use:
		Pickup:
			TNT1 A 0 ACS_ExecuteAlways(500, 0, 0)
		Stop
	}
}

actor PlayerController : CustomInventory
{
	inventory.maxamount 1
	+INVENTORY.AUTOACTIVATE
	+NOTIMEFREEZE
	States
	{
		Pickup:
		//====================================================================================================
		// BEAST VISION control
		//====================================================================================================
		Control.Vision:
			TNT1 A 0 A_JumpIfInventory("BeastVisionActive",1,"Control.Vision.Yes")
			Goto Control.Jump
		Control.Vision.Yes:
			TNT1 A 0 A_GiveInventory("BeastVisionEffect",1)
			TNT1 A 0 A_JumpIfInventory("BeastVisionTicCounter",1,"Control.Vision.Decrement")
//			TNT1 A 0 A_TakeInventory("BeastVisionBattery",1)
			TNT1 A 0 A_JumpIfInventory("BeastVision",1,"Control.Vision.Increment")
			TNT1 A 0 A_TakeInventory("BeastVisionActive",1)
			TNT1 A 0 A_TakeInventory("BeastVisionEffect",1)
			Goto Control.Jump
		Control.Vision.Increment:
			TNT1 A 0 A_GiveInventory("BeastVisionTicCounter",20)
			Goto Control.Jump
		Control.Vision.Decrement:
			TNT1 A 0 A_TakeInventory("BeastVisionTicCounter",1)
			Goto Control.Jump
		Control.Jump:
			TNT1 A -1
			stop
	}
}

ACTOR BeastVision : CustomInventory
{
  +COUNTITEM
  Inventory.MaxAmount 1
  inventory.icon "INBEAST"
  Inventory.PickupSound "misc/i_pkup"
  Inventory.UseSound "misc/p_pkup"
  Inventory.PickupMessage "Picked up Beast Vision"
  Inventory.MaxAmount 1
  -INVENTORY.INTERHUBSTRIP
  +DONTSPLASH
  +INVENTORY.INVBAR
  Scale 0.5
  Tag "Beast Vision"
  States
  {
    Spawn:
    INFR A -1 Bright
    Stop
  Use:
   	TNT1 A 0 A_JumpIfInventory("BeastVisionActive",1,"Disable")
  Enable:
	TNT1 A 0 A_GiveInventory("BeastVisionActive",1)
	TNT1 A 0 A_GiveInventory("BeastVisionTicCounter",35)
   	Stop
  Disable:
	TNT1 A 0 A_TakeInventory("BeastVisionActive", 1)
	TNT1 A 0 A_TakeInventory("BeastVisionEffect", 999999)
	Stop
  }
}
actor BeastVisionActive : PuzzleItem { inventory.maxamount 1 -INVENTORY.INVBAR }
actor BeastVisionTicCounter : PuzzleItem { inventory.maxamount 35 -INVENTORY.INVBAR }
Actor BeastVisionEffect : PowerupGiver { Powerup.Duration -100 Powerup.Type "LightAmp" +INVENTORY.AUTOACTIVATE +INVENTORY.ALWAYSPICKUP -INVENTORY.INVBAR +INVENTORY.QUIET +DONTSPLASH }
actor BeastVisionBattery: Counter { Inventory.MaxAmount 100 }
Actor MyTID : Inventory { inventory.maxamount 64 }

actor BurnDeathCaleb
{
    Radius 12
    Height 56
    Speed 7
    +FLOORCLIP
    +LOOKALLAROUND
    -SOLID
    -SHOOTABLE
    scale 0.475
    States
    {
      Spawn:
        DKBR A 0
//		TNT1 A 0 A_PlaySound("Caleb/Burn4",CHAN_VOICE,1.0,0,ATTN_NORM)
        DKBR DDDDDD 1 Bright A_Look
        Goto See
      See:
        DKBR A 0 A_PlaySound("duke/burndeath")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
        DKBR C 0 A_PlaySound("duke/burndeath")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR CCC 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR CCC 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR DDD 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR DDD 1 Bright A_Wander
        DKBR A 0 A_PlaySound("duke/burndeath")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR EEE 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR EEE 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR FFF 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR FFF 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR C 0 A_PlaySound("duke/burndeath")
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
        DKBR A 0 A_PlaySound("duke/burndeath")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR CCC 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR CCC 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR DDD 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR DDD 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR C 0 A_PlaySound("duke/burndeath")
        DKBR EEE 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR EEE 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR FFF 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR FFF 1 Bright A_Wander
        DKBR A 0 A_PlaySound("duke/burndeath")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR BBB 1 Bright A_Wander
		TNT1 A 0 A_Jump(237,1)
        Goto Death
		Goto Death2
      Death:
        TNT1 E 0 A_PlaySound("duke/burndeath2")
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR EEFFGG 3 Bright
        TNT1 A 0 A_Stop
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR HHIIJJ 3 Bright
        TNT1 A 0 A_SpawnItem("BurnedCaleb",1,0,0)
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR KKLLMM 3 Bright
        DKBR N 7 Bright
        DKBR O 8 Bright
        TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
        TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)
        DKBR P 8 Bright
        DKBR Q 8 Bright
		CAFD ABC 3 Bright
        Stop
      Death2:
		TNT1 E 0 A_PlaySound("duke/burndeath2")
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR EEFFGG 3 Bright
		TNT1 A 0 A_Stop
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR HHIIJJ 3 Bright
		TNT1 A 0 A_SpawnItem("BurnedCaleb_2",1,0,0)
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR KKLLMM 3 Bright
		DKBR N 7 Bright
		DKBR O 8 Bright
		TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
		TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)
		DKBR P 8 Bright
		DKBR Q 8 Bright
		Stop
    }
}

actor BurnedCaleb
{
    Radius 12
    Height 12
    Alpha 0.1
    RenderStyle Translucent
	+CLIENTSIDEONLY
    -SOLID
    +FLOORCLIP
    Scale 0.6//25
    States
    {
      Spawn:
        CAFD DDDDDDDDDDDDDDDDDDDD 4 A_FadeIn(0.2)
        CAFD D -1
        Stop
    }
}

actor BurnedCaleb_2
{
    Radius 12
    Height 12
    Alpha 0.1
    RenderStyle Translucent
    +CLIENTSIDEONLY
    -SOLID
    +FLOORCLIP
    Scale 0.6//25
    States
    {
      Spawn:
        CALE XXXXXXXXXXXXXXXXXXXX 4 A_FadeIn(0.2)
        CALE X -1
        Stop
    }
}

// Gibs

actor CalebHand
{
  radius 5
  height 5
  health 1
  speed 0
  gravity 0.68
  Scale 0.53  
  SeeSound "Caleb/Slop"
  -NOLIFTDROP
  -SOLID
  +RANDOMIZE
  +HEXENBOUNCE	
  +DROPOFF
  +NOBLOCKMONST	
  +MOVEWITHSECTOR	
  -NOGRAVITY
  +NOBLOCKMAP
  +CORPSE	
  +WINDTHRUST
  +FLOORCLIP
  +CLIENTSIDEONLY	
  -TELESTOMP
  +NOTELEPORT
  +LOWGRAVITY
  Bouncecount 4
  States
    {
      Spawn:
        CBLG EFGH 5
        loop
      Crash:
        TNT1 A 0 A_Gravity
        CBLG E 1000 
		CBLG E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

actor CalebLeg : CalebHand
{
  States
    {
      Spawn:
        CBLG ABCD 5
        loop
      Crash:
        TNT1 A 0 A_Gravity
        CBLG D 1000 
		CBLG D 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

actor CalebHat : CalebHand
{
  Gravity 0.5
  Bouncecount 6  
  States
    {
      Spawn:
        CBLG IJKLMN 5
        loop
      Crash:
        TNT1 A 0 A_Gravity
        CBLG I 1000 
		CBLG I 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

actor CalebHead : CalebHand
{
  States
    {
      Spawn:
        CBLG OPQRSTUV 5 A_SpawnItem("NashGore_FlyingBloodTrail_Monolith", 0, 0, 0, 1)
        loop
      Crash:
        TNT1 A 0 A_Gravity
        CBLG W 1000 
		CBLG W 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

Actor BloodInnocentMime : SamsaraMiscCharHumanoidStaticTotalGib {
	Radius 16
	Height 48
	Health 5
	Speed 0
	MONSTER	
	+FLOORCLIP
	+DONTGIB
	+NOBLOODDECALS
	+NEVERTARGET
	-COUNTKILL
	Tag "Mime"
	Mass 250
	Scale 0.50
	PainSound ""
	ActiveSound ""
	DeathSound "Blood/Mime/Die"
	BloodType "NashGore_Blood_Monolith"	
	var int user_scalex;
	var int user_scaley;
	States {
		Spawn:
			TNT1 A 0 NoDelay A_Jump(128,"Spawn2")
		Spawn1:
			INNO A 12
			INNO BC 12
			INNO D 12
			Loop
		Spawn2:
			INNO A 12
			INNO DC 12
			INNO B 12
			Loop	
		Death:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A 0 A_NoBlocking
			TNT1 A 0 A_Jump(128, 2)
			TNT1 A 0 A_SpawnDebris("ZBloodOrganDebris")
			TNT1 A 0 A_Jump(92,2)
			TNT1 A 0 A_SpawnDebris("ZBloodBloodliver")
			TNT1 A 0 A_Jump(92,2)
			TNT1 A 0 A_SpawnDebris("ZBloodEyeGuts")
			TNT1 A 0 
			TNT1 A 0 A_SpawnDebris("BloodInnocentMimeHand")
			TNT1 A 0 A_SpawnDebris("BloodInnocentMimeHead")
			TNT1 A 0 A_Jump(128,1,2,3)		
			TNT1 AAAAAA 0 A_SpawnDebris("ZBloodOrganDebris2")		
			TNT1 A 0 A_Jump(128,1,2,3,4,5)
			TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith",0,0,0,random(-350,350)/100.00,random(-350,350)/100.00,random(500,1000)/100.00,random(-180,180), NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
			TNT1 A 0 A_Scream
			TNT1 A 5 A_FadeOut
			Stop
		Pain.MightyBoot:
			TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			INNO A 2 A_FaceTarget
			TNT1 A 0 A_Recoil(14)
			INNO A 16 A_Pain
			Goto Spawn
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:	  
		Death.Shock:	  	  
		Death.Tesla:
		Death.CalebBullet:
		XDeathForCaleb:
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_Jump(96, 2)
			TNT1 A 0 A_GiveToTarget("CalebMimeKill",1)
			TNT1 A -1 A_Jump(256,"Death")
			wait	
		Pain.Shock:
		Pain.Tesla:
			CBGS A 4 A_Pain
			CBGS A 4
			Goto Spawn
		Death.CalebFire:
		Death.LifeLeech:
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_GiveToTarget("CalebMimeKill", 1)
			Goto Burn
		Burn:
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 5
			stop
		Pain.ShrinkerDMG:
			INNO A 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
			"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
			"####" "#" 0 A_NoBlocking
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 2
			TNT1 A 0 Thing_Remove(0)
			stop
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			INNO A 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
			TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_Jump(96,2)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
			TNT1 A 0 A_SetScale (1.0, 1.0)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A 1
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			INNO A 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
			TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_Jump(96,2)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
			TNT1 A 0 A_SetScale (1.0, 1.0)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A 1
			Stop
	}
}

actor BloodInnocentMimeHead : CalebHand
{
  States
    {
      Spawn:
        INNO E 5
        loop
      Crash:
        TNT1 A 0 A_Gravity
        INNO E 1000 
		INNO E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

actor BloodInnocentMimeHand : CalebHand
{
  States
    {
      Spawn:
        INNO F 5
        loop
      Crash:
        TNT1 A 0 A_Gravity
        INNO F 1000 
		INNO F 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Crash")
        stop
    }
}

actor BloodInnocentMime_Shrink : BloodInnocentMime
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	-COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			INNO A 10
			Goto SpawnLoop
		SpawnLoop:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO A 12
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO B 12
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO C 12
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO D 12
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto Spawn
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMime", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2 
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0 
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor BloodInnocentMime_ShrinkEffect : BloodInnocentMime
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	+CLIENTSIDEONLY	
	-NOGRAVITY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			INNO A 0
			INNO A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			INNO A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor BloodInnocentMoron : SamsaraMiscCharHumanoidStatic {
	Radius 16
	Height 48
	MONSTER	
	+FLOORCLIP
	+DONTGIB
	+NOBLOODDECALS
	+NEVERTARGET
	-COUNTKILL
	+FRIGHTENED
	-FRIENDLY
	Mass 250
	Scale 0.50
	BloodType "NashGore_Blood_Monolith"	
	var int user_scalex;
	var int user_scaley;
	Tag "Innocent"
	PainChance 200
	Health 100
	Speed 3
	SeeSound "Blood/Innocent/See"
	PainSound "Blood/Innocent/Pain"
	ActiveSound "Blood/Innocent/Act"
	DeathSound ""
	States {
		Spawn:
			INNO GH 12 A_Look
			Loop
		See:
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO J 1 A_Chase 
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO K 1 A_Chase 
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO L 1 A_Chase 
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO L 1 A_Chase 
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO M 1 A_Chase 
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO N 1 A_Chase 
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO O 1 A_Chase
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			INNO O 1 A_Chase 
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			Loop
		Pain:
			TNT1 A 0 A_ChangeFlag(NOPAIN,1)
			INNO I 2 
			INNO I 3 A_Pain
			INNO I 4
			INNO GG 5
			TNT1 A 0 A_ChangeFlag(NOPAIN,0)		
			Goto See
		Death:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
			INNO P 5 A_NoBlocking
			INNO QRSTUV 5
			INNO W 0 A_SpawnItemEx("BloodInnocentMoronCorpse", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER|SXF_TRANSFERSCALE)
			TNT1 A -1
			Stop
		XDeath:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItemEx("CalebGibSpawner")
			TNT1 A 0
			Stop
		Pain.MightyBoot:
			TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			INNO I 2 A_FaceTarget
			TNT1 A 0 A_Recoil(14)
			INNO I 16 A_Pain
			Goto See
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:	  
		Death.Shock:	  	  
			TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForCaleb")
		Death.Tesla:
		Death.CalebBullet:
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			TNT1 A -1 A_Jump(256,"Death")
			wait
		XDeathForCaleb:
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_Jump(96,"XDeath")
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
			TNT1 A -1 A_Jump(256,"XDeath")
			wait		
		Pain.MarathonStun:
			TNT1 A 0 A_Stop
			TNT1 A 0 A_GiveInventory("NothingSpeed")
			TNT1 A 0 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
			INNO I 5 A_FaceTarget
			TNT1 A 0 A_Gravity
			INNO I 30 A_Pain
			INNO I 70
			Goto See
		Pain.Shock:
		Pain.Tesla:
			CBGS A 4 A_Pain
			CBGS A 4
			Goto See
		Death.CalebFire:
		Death.LifeLeech:
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_GiveToTarget("CalebMimeKill", 1)
			Goto Burn
		Burn:
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 5
			stop
		Pain.ShrinkerDMG:
			INNO I 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_ChangeFlag("NOPAIN", 1)
			"####" "#" 0 A_ChangeFlag("NODAMAGE", 1)
			"####" "#" 0 A_NoBlocking
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron_Shrink", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 2
			TNT1 A 0 Thing_Remove(0)
			stop
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			INNO G 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
			TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_Jump(96,2)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
			TNT1 A 0 A_SetScale (1.0, 1.0)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A 1
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			INNO G 0
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
			TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_Jump(96,2)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
			TNT1 A 0 A_SetScale (1.0, 1.0)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A 1
			Stop
	}
}

Actor BloodInnocentMoronCorpse : SamsaraCorpseActorMedium
{
	Health 20
	Height 8
	Radius 16
	Mass 5000
	BloodType "NashGore_Blood_Monolith"
	+ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	+VULNERABLE
	-SOLID
	+NOTARGET
	-FRIENDLY
	+NOBLOODDECALS
	States
	{
		Spawn:
			TNT1 A 0 A_JumpIfMasterCloser(1,2)
			INNO W 4 A_Warp(AAPTR_Master,0,0,0,0,WARPF_INTERPOLATE)
			Goto Spawn
			INNO W 4
			Loop
		Death:
			TNT1 A 0 A_RemoveMaster
			TNT1 A 0 A_UnsetSolid
			TNT1 AA 0 A_SpawnDebris("ZBloodBloodliver")	
			TNT1 A 0 A_SpawnDebris("ZBloodOrganDebris")
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A 0 A_Jump(128,1,2,3)		
			TNT1 AAAAAAA 0 A_SpawnDebris("ZBloodOrganDebris2")		
			TNT1 A 0 A_Jump(128,1,2,3,4,5)
			TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith", 0, 0, 0, FRandom(0.1, 6.0) * Random(-1, 1), FRandom(0.1, 6.0) * Random(-1, 1), FRandom((Random(3.0,1.0)), (Random(8.0,6.0))) * FRandom((Random(3,2)), 1), 0, NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
			stop
	}
}

actor BloodInnocentMoron_Shrink : BloodInnocentMoron
{
	+FRIGHTENED
	+NOTRIGGER
	-SHOOTABLE
	+THRUACTORS
	+NORADIUSDMG
	+VULNERABLE
	+QUICKTORETALIATE
	-COUNTKILL
	-NOGRAVITY
	+NODAMAGE
	+NOPAIN
	MaxStepHeight 0
	MaxDropOffHeight 0
	MeleeRange 16
	Height 16
	Health 1
	Speed 1
	PainChance "ShrinkDMG", 0
	DamageFactor "ShrinkDMG", 0.0
	PainChance "ExpanderDMG", 0
	DamageFactor "ExpanderDMG", 0.0
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("ShrunkToken",1,"SpawnLoop")
			TNT1 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			TNT1 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			TNT1 A 0 A_SetScale(scalex*0.2,scaley*0.2) // setting the scale in ACS does work, but the actor shows up at normal size for a split second
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_Shrinker", 0, 1)
			INNO I 10
			Goto SpawnLoop
		SpawnLoop:
			INNO GH 12 A_Look
			Loop
		See:
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO J 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO K 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO L 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO M 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE) 
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO N 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIfInTargetInventory("ChexClass", 1, 5) // this is supposed to be child friendly
			"####" "#" 0 A_JumpIfInTargetInventory("DukeClass", 1, 3)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("Squish")
			"####" "#" 0 A_Jump(256, 2)
			"####" "#" 0 A_JumpIfTargetInSideMeleeRange("DukeStomp")
			INNO O 1 A_Chase("", "",CHF_NOPLAYACTIVE)
			"####" "#" 0 A_JumpIf(CallACS("Samsara_Shrinker", 3) == 0, "Forget")
			Loop
		Forget:
			"####" "#" 0 A_ClearTarget
			Goto See
		Grow:
			"####" "#" 4 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(1.0*(user_scalex/65536.0),1.0*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("BloodInnocentMoron", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS|SXF_TRANSFERAMBUSHFLAG|SXF_SETMASTER,0,tid)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 0 A_GiveToChildren("ShrunkPropertyTransfer",1)
			TNT1 A 2 Thing_Remove(0)
			stop
		Squish:
			"####" "#" 0 A_GiveInventory("SquishToken", 1)
			"####" "#" 0 A_JumpIfInTargetInventory("DukeStomp", 1, 2)
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 2 
			"####" "#" 0 A_Jump(256,3)
			"####" "#" 0 
			"####" "#" 2 A_Die("Squish")
			"####" "#" 0
			loop
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 A_GiveToTarget("KillCount", 1)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			stop
		DukeStomp:
			"####" "#" 0 A_GiveToTarget("DukeStomp", 1)
			Goto Squish
	}
}

actor BloodInnocentMoron_ShrinkEffect : BloodInnocentMoron
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	+CLIENTSIDEONLY	
	-NOGRAVITY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			INNO I 0
			INNO I 0 A_SetUserVar("user_scalex", scalex*65536.0)
			INNO I 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor BloodBurningInnocent
{
    Radius 12
    Height 56
    Speed 7
    +FLOORCLIP
    +LOOKALLAROUND
    -SOLID
    -SHOOTABLE
	+ISMONSTER
	-COUNTKILL	
    scale 0.475
    States
    {
      Spawn:
        DKBR A 0
		TNT1 A 0 A_JumpIfInventory("CalebBurnToken", 1, "Death")
		TNT1 A 0 A_PlaySound("CultistOnFire",CHAN_VOICE,1.0,0,ATTN_NORM)
        DKBR DDDDDD 1 Bright A_Look
        Goto See
      See:
		TNT1 A 0 A_GiveInventory("CalebBurnToken", 1)
		TNT1 A 0 A_SetDamageType("CalebFire")
		TNT1 A 0 A_SpawnItemEx("BloodBurnDeathSmokeHead",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)			  
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
        DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")		
        DKBR A 0 A_Jump(40,"Death")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
		DKBR A 0 A_Jump(55,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(70,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(80,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(60,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR EEE 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(110,"Death")				
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR FFF 1 Bright A_Chase("","")		
        DKBR A 0 A_Jump(120,"Death")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        DKBR AAA 1 Bright A_Chase("","")
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR A 0 A_Jump(90,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR BBB 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(30,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR CCC 1 Bright A_Chase("","")
        DKBR A 0 A_Jump(150,"Death")		
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
        TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
        TNT1 A 0 A_Explode(5, radius * 1.2, !XF_HURTSOURCE|XF_NOTMISSILE, 0, radius * 1.2)
		DKBR DDD 1 Bright A_Chase("","")
        Goto Death
      Death:
		TNT1 A 0 A_RemoveChildren(TRUE)	  	  
		TNT1 A 0 A_Jump(128,"GoryDeath","GoryShit")
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR EEFF 3 Bright
	    TNT1 A 0 A_PlaySound("Blood/CrispyBody",CHAN_BODY,1.0,0,ATTN_NORM)		
		DKBR GG 3 Bright		
        TNT1 A 0 A_Stop
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR HHIIJJ 3 Bright
        TNT1 A 0 A_SpawnItemEx("BloodBurnDeathSmoke",0,0,20,0,0,0,0,SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItem("BloodBurnedCorpse",1,0,0)
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR KKLLMM 3 Bright
        DKBR N 7 Bright
        DKBR O 8 Bright
        TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
        TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)
        DKBR P 8 Bright
        DKBR Q 8 Bright
		CAFD ABC 3 Bright
        Stop
	  GoryDeath:
	    TNT1 A 0 A_PlaySound("Blood/CrispyBody",CHAN_BODY,1.0,0,ATTN_NORM)			  			  
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR GG 2 Bright
        TNT1 A 0 A_Stop		
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        FGUY U 1 Bright
		FGUY UU 1 Bright
		TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnDebris("ZBloodBloodliver")	
		TNT1 A 0 A_SpawnDebris("ZBloodOrganDebris")
		TNT1 A 0 A_SpawnDebris("ZBloodEyeGuts")
		TNT1 A 0 A_SpawnDebris("ZBloodHand1")	
		TNT1 A 0 A_Jump(128,1,2,3)		
		TNT1 AAAAAAA 0 A_SpawnDebris("ZBloodOrganDebris2")				
		TNT1 A 0 A_Jump(128,1,2,3,4,5)
		TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith",0,0,0,random(-350,350)/100.00,random(-350,350)/100.00,random(500,1000)/100.00,random(-180,180), NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
		TNT1 A 0 A_PlaySound("cultistdiefire",CHAN_VOICE,1.0,0,ATTN_NORM)
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        FGUY UUVVWWXX 2 Bright		
        TNT1 A 0 A_SpawnItemEx("BloodBurnDeathSmoke",0,0,10,0,0,0,0,SXF_NOCHECKPOSITION)
		FGUY YY 2 Bright
        TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
        TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)		
        FGUY ZZ 2 Bright
        YCUR V 8
		YCUR V -1		
        Stop		
	  GoryShit:
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR EEFF 3 Bright
	    TNT1 A 0 A_PlaySound("Blood/CrispyBody",CHAN_BODY,1.0,0,ATTN_NORM)		
		DKBR GG 2 Bright
		TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
        TNT1 A 0 A_Stop
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnDebris("ZBloodBloodliver")	
		TNT1 A 0 A_SpawnDebris("ZBloodOrganDebris")
		TNT1 A 0 A_SpawnDebris("ZBloodEyeGuts")
		TNT1 A 0 A_SpawnDebris("ZBloodHand1")	
		TNT1 A 0 A_Jump(128,1,2,3)		
		TNT1 AAAAAAA 0 A_SpawnDebris("ZBloodOrganDebris2")		
		TNT1 A 0 A_Jump(128,1,2,3,4,5)
		TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith",0,0,0,random(-350,350)/100.00,random(-350,350)/100.00,random(500,1000)/100.00,random(-180,180), NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
		TNT1 A 0 A_PlaySound("cultistdiefire",CHAN_VOICE,1.0,0,ATTN_NORM)				
        DKBR HH 2 Bright
		DKBR II 2 Bright
		DKBR JJ 2 Bright		
        TNT1 A 0 A_SpawnItemEx("BloodBurnDeathSmoke",0,0,20,0,0,0,0,SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItem("BloodBurnedCorpse",1,0,0)
        TNT1 A 0 A_SpawnDebris("Firetrail3",0)
        TNT1 A 0 A_SpawnDebris("Firetrail4",0)
        DKBR KKLLMM 3 Bright
        DKBR N 7 Bright
        DKBR O 8 Bright
        TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
        TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)
        DKBR P 8 Bright
        DKBR Q 8 Bright
		CAFD ABC 3 Bright
        Stop	
	}
}

actor FriendlyBrownCultist
{ 
  decal ZBloodBulletChip1
  obituary "%o's face got shot by cultists."
  health 100   
  radius 20
  height 56
  mass 40
  speed 10
  painchance 128
  seesound "CultistSee"
  painsound "CultistPain"
  deathsound "CultistDie"
  attacksound ""
  activesound "CultistAct"
  Scale 0.53
  MONSTER
  +FRIENDLY
  -SOLID
  Species "Player"  
  states
  {
  Spawn:
    YCUF A 10 A_Look
    Loop
  See:
    YCUL ABCDEF 4 A_Chase
    Loop
  Missile:
    YCUL E 0 A_Jump (64, 6) //nope
    YCUF A 4 A_FaceTarget 
    TNT1 A 0 A_PlaySound("CultistShotgun", CHAN_Body)		
    YCUF B 7 bright A_CustomMissile("FriendlyCultistBullet",32,-4,random(-8,8))
    TNT1 A 0 bright A_CustomMissile("FriendlyCultistBullet",28,-4,random(-2,2))
	YCUF A 6 A_Jump(90,"See")
	TNT1 A 0 A_CposRefire
    goto Missile+1
    YCUL X 4 A_FaceTarget
    YCUL YZ 4 A_SetAngle(angle+Random(-30,40))
    TNT1 A 0 A_ThrowGrenade("GreenCultistTNT",0,20,4,0)
    YCUL "[^" 5
    YCUL A 5
    TNT1 Y 0 A_Jump(160, "See")
    goto Missile
    goto See
  Pain:
    YCUL G 3
    YCUL G 3 A_Pain
    goto See
  Death:
    TNT1 A 0 A_GiveToTarget("KillCount",1)  
    YCUL H 5 
    YCUL I 5 A_Scream
    YCUL J 5 A_Fall
    YCUL KLMN 5
    YCUL NONON 10
    YCUL O -1
    stop
  XDeath:
    TNT1 A 0 A_GiveToTarget("KillCount",1)  
	TNT1 A 0 A_Scream
    YCUL P 5 A_PlaySound("Caleb/Slop",6)
	TNT1 A 0 A_Jump(128, 2)
    BCUL PP 0	
    BCUL P 0 A_SpawnDebris("ZBloodOrganDebris")
    BCUL P 0 A_Jump(92,2)
    BCUL P 0 A_SpawnDebris("ZBloodBloodliver")
    BCUL P 0 A_Jump(92,2)
    BCUL P 0 A_SpawnDebris("ZBloodEyeGuts")
    BCUL P 0 A_Jump(92,2)
    BCUL P 0 A_SpawnDebris("ZBloodHand1")
	TNT1 A 0
	TNT1 A 0 A_Jump(128,1,2,3)		
	TNT1 AAAAAAA 0 A_SpawnDebris("ZBloodOrganDebris2")			
	TNT1 A 0 A_Jump(128,1,2,3,4,5,6,7)
	TNT1 AAAAAAAA 0 A_SpawnItemEx("NashGore_FlyingBlood_Monolith", 0, 0, 0, FRandom(0.1, 6.0) * Random(-1, 1), FRandom(0.1, 6.0) * Random(-1, 1), FRandom((Random(3.0,1.0)), (Random(8.0,6.0))) * FRandom((Random(3,2)), 1), 0, NASHGORE_MONOLITH_BLOODFLAGS1, 64)		
    YCUL P 5
    YCUL Q 5 A_Fall
    YCUL RSTUV 5
    YCUL V -1
    stop
  }
}

actor FriendlyCultistBullet : FastProjectile
{
    Speed 300
    Damage (Random(1,3)*5)
    +THRUSPECIES
    +NOTIMEFREEZE
	+BLOODSPLATTER
    Species "Player"
	States
	{	
      Spawn:
        TNT1 A 1
        loop
      Death:
        TNT1 A 1 A_SpawnItem("ZBBulletPuff")
        stop
      XDeath:
        TNT1 A 1
        stop
	}
}

actor GreenCultistTNT
{
  radius 16
  height 4
  speed 39
  Scale 0.5
  seesound "TNT/Throw"
  activesound "TNT/Fuse"
  PROJECTILE
  Damage 0
  +RANDOMIZE
  +DONTSPLASH
//+DONTGIB
  +NOBOUNCESOUND
  +BOUNCEONACTORS
  +PUSHABLE
  +DONTHURTSPECIES
  +FRIENDLY
  -SOLID
  -NOGRAVITY
  +THRUSPECIES
  +MOVEWITHSECTOR
  +NOBLOCKMAP
  +NOTELEPORT
  +ClientSideOnly
  Species "Player"
  ExplosionDamage 34
  ExplosionRadius 56
  Gravity 0.9
  states
  {
  Spawn:
    ADYN A 0 bright A_LoopActiveSound
    goto see
  See:
    ADYN A 0 bright A_LoopActiveSound
    ADYN EEEE 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN FFFF 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
	TNT1 A 0 bright A_SpawnItem("TNTSmoke",5)
    ADYN GGGG 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN HHHH 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN AAAA 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN BBBB 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN CCCC 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN DDDD 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN EEEE 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN FFFF 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
	TNT1 A 0 bright A_SpawnItem("TNTSmoke",5)	
    ADYN GGGG 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN HHHH 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN AAAA 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN BBBB 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN CCCC 1 bright //A_SpawnItem("TNTSmoke")
    ADYN A 0 bright A_LoopActiveSound
    ADYN DDDD 1 bright //A_SpawnItem("TNTSmoke")
    goto death
  Death:
    ADYN A 0 bright A_LoopActiveSound
    ADYN EIJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    ADYN A 0 bright A_LoopActiveSound
    ADYN IJK 4 bright
    TNT1 A 0 A_Explode
    TNT1 A 0 A_PlaySound ("Napalm/EXPLODE")
    TNT1 A 5 A_SpawnItem("FloorKaboom")
    stop
  }
}