ACTOR " RMR Plasma Cannon " : Weapon
{
  Weapon.SelectionOrder 100
  Weapon.SlotNumber 7 
  Weapon.BobStyle Inverse
  Weapon.BobRangeX 0.85
  Weapon.BobSpeed 1.1  
  Weapon.AmmoUse 6
  Weapon.AmmoGive 85
  Inventory.PickupSound "RMR/pickup" 	  
  Weapon.AmmoType "Cell"
  Inventory.PickupMessage "You got the Dewy Mark II Plasma Cannon!"
  Inventory.RestrictedTo "RebelMoonCommando"  
  Tag "Plasma Cannon"  
  States
  {
  Ready:
    RM7V A 1 A_WeaponReady
    Loop
  Deselect:
	TNT1 A 0 A_Lower  
    RM7V A 1 A_Lower
	Loop
  Select:
	TNT1 A 0 A_Raise
    RM7V A 1 A_Raise
    Loop
  Fire:
	RM7V B 5 bright A_PlaySound("RMR/PlasmaC")
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire")	
	RM7V C 5 bright
	RM7V D 5 bright A_FireCustomMissile("RMR-BigPlasma",0,1,0,0)	
	RM7V C 4 bright
    RM7V BB 2 bright A_ReFire
	RM7V AA 3 
    Goto Ready
  CoopFire:
	RM7V C 5 bright 	
	RM7V D 5 bright A_FireCustomMissile("RMR-BigPlasmaCoop",0,1,0,0)	
	RM7V C 4 bright
    RM7V BB 2 bright A_ReFire
	RM7V AA 3
	Goto Ready
  Spawn:
	RM7V E -1
	Loop
  }
}

Actor RMR-BigPlasma : FastProjectile
{
    Damage (250)
    Radius 5
    Height 5
    Speed 100
    Projectile
	+WINDTHRUST
	+FORCEXYBILLBOARD
//	+NOBLOOD
//	+THRUGHOST	
//	+BLOODLESSIMPACT	
	-SKYEXPLODE
	DeathSound "RMR/PlasmaCB"
    DamageType "RMR-BigPlasma"	
	Obituary "%k overcharged %o."	
	Scale 0.50
    States
    {
      Spawn:
        RMZ3 AB 1 bright
        loop
      Death:
//	    TNT1 A 0 A_Explode(225,60,0,1,1)
        RMZ3 CDE 4 bright
		RMZ3 F 3 bright A_FadeOut
        stop
    }
}

Actor RMR-BigPlasmaCoop : RMR-BigPlasma { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }