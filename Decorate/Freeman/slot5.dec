Actor HLRPGCounter : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.MaxAmount 1
}

Actor HLSporeCounter : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.MaxAmount 10
}

Actor " RPG " : HLWeapon
{
	Weapon.Slotnumber 5
	Weapon.SelectionOrder 1350
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.75
	Weapon.BobSpeed 1.4
	Weapon.BobStyle Alpha 
	Inventory.Pickupmessage "You got the rpg!"
	Inventory.Pickupsound "halflife/weaponpickup"
	Weapon.AmmoType1 "HLRPGCounter"
    Weapon.AmmoUse1 1
    Weapon.AmmoGive1 1
	//+WEAPON.NOAUTOFIRE
	Weapon.AmmoType2 "HLSporeCounter"
    Weapon.AmmoUse2 1
    Weapon.AmmoGive2 10
	Inventory.RestrictedTo "HalfLifePlayer"	
	states
	{
	Spawn:
		HW50 Z -1
		stop
	Select:
		TNT1 A 0 A_TakeInventory("freeman_fistselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_pistolselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot1selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot2selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot3selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot4selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot6selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot7selected",1)		
		TNT1 A 0 A_GiveInventory("freeman_slot5selected",1)
	SelectLoop:	
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 A 1 A_Raise
		loop
	Deselect:
		TNT1 A 0 A_TakeInventory("freeman_slot5selected",1)
	DeselectLoop:		
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		TNT1 A 1 A_Lower
		loop
	Ready:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "ReadyOpp")
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeLaserSight", 0, 2)
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,"DrawRocket")
		HW51 ABCDEFGHIJKLMNO 2 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		TNT1 A 0
		goto WIdle
	ReadyOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto Ready+1
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		OP15 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		OP16 ABCD 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		TNT1 A 0
		goto WIdleOpp
	DrawRocket:
		HW50 ABCDEFGHIJKLMNO 2 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		goto WIdle
	WIdle:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,"FuckR")
		HW55 A 2 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_Jump(4,"WIdle")
		TNT1 A 0 A_Jump(3,"WIdle")
		TNT1 A 0 A_Jump(2,"WIdle")		
		TNT1 A 0 A_Jump(1,"IdleA")
		loop
	IdleA:
		HW65 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW66 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW66 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW67 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW67 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW68 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW68 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW69 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW69 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW70 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW70 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW71 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW71 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)	
		Goto WIdle
	FuckR:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW54 A 2 A_WeaponReady
		TNT1 A 0 A_Jump(4,"FuckR")
		TNT1 A 0 A_Jump(3,"FuckR")
		TNT1 A 0 A_Jump(2,"FuckR")						
		TNT1 A 0 A_Jump(1,"IdleB")		
		loop
	IdleB:
		HW52 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW53 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW53 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW60 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW60 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW61 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW61 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW62 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW62 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW63 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW64 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "WIdleOpp")
		HW64 ABCDEFGHIJKLMNOPQRSTUVWXY 1 A_WeaponReady(WRF_ALLOWRELOAD)
		Goto FuckR	
	WIdleOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto WIdle+1
		OP00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP01 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto WIdle+1
		OP01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP02 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto WIdle+1
		OP02 ABCDEFGH 1 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto WIdle+1
		TNT1 A 0 A_Jump(4,"WIdleOpp")
		TNT1 A 0 A_Jump(3,"WIdleOpp")
		TNT1 A 0 A_Jump(2,"WIdleOpp")		
		TNT1 A 0 A_Jump(1,"IdleAOpp","IdleBOpp")
		loop
	IdleAOpp:
		OP17 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP18 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP19 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP20 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP21 ABCDEFGHIJKLMNOP 1 A_WeaponReady(WRF_ALLOWRELOAD)
		Goto WIdleOpp
	IdleBOpp:
		OP03 A 0 A_Playsound("HLSporeLauncher/Pet", CHAN_WEAPON)
		OP03 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP07 ABCDEFGHIJKLMNOP 1 A_WeaponReady(WRF_ALLOWRELOAD)
		Goto WIdleOpp
	Fire:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "FireOpp")
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,"FireSuccess")
		goto Reload
	FireSuccess:
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 5)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoop")
		TNT1 A 0 A_JumpIfInventory("laserdeactive",1,"FireSuccess2")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLRPGCounter",999)
		HW56 A 2 A_PlaySound("halflife/rpg_shoot",CHAN_WEAPON)
		HW56 B 2 A_FireCustomMissile("HLRPGRocketBase",0,0,8)//A_SpawnItemEx("HLRPGRocketBase",14,8,36,cos(-pitch)*12,0,sin(-pitch)*12,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH|SXF_SETMASTER)
		goto FireFinish
	FireSuccess2:
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoop")	
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLRPGCounter",999)
		HW56 A 2 A_PlaySound("halflife/rpg_shoot",CHAN_WEAPON)
		HW56 B 2 A_SpawnItemEx("HLRPGRocketBase2",14,8,36,cos(-pitch)*12,0,sin(-pitch)*12,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		goto FireFinish
	FireCoop:
		TNT1 A 0 A_JumpIfInventory("laserdeactive",1,"FireCoop2")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLRPGCounter",999)
		HW56 A 2 A_PlaySound("halflife/rpg_shoot",CHAN_WEAPON)	
		HW56 B 2 A_SpawnItemEx("HLRPGRocketBaseCoop",14,8,36,cos(-pitch)*12,0,sin(-pitch)*12,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH|SXF_SETMASTER)
		goto FireFinish
	FireCoop2:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLRPGCounter",999)
		HW56 A 2 A_PlaySound("halflife/rpg_shoot",CHAN_WEAPON)	
		HW56 B 2 A_SpawnItemEx("HLRPGRocketBaseCoop2",14,8,36,cos(-pitch)*12,0,sin(-pitch)*12,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		goto FireFinish
	FireFinish:
		TNT1 A 0 A_JumpIfInventory("laserdeactive",1,"FireFinishNoLaser")
		HW56 CDEFGHIJKLMNOPQRSTUVWXY 1 A_FireBullets(2, 2, 1, 0, "RPGLaserDot", FBF_NORANDOMPUFFZ|FBF_NOFLASH|FBF_EXPLICITANGLE)
		goto WIdle
	FireFinishNoLaser:
		HW56 CDEFGHIJKLMNOPQRSTUVWXY 1 
		goto WIdle
	FireOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto Fire+1
		TNT1 A 0 A_JumpIfInventory("HLSporeCounter",1,"FireSuccessOpp")
		goto Reload
	FireSuccessOpp:
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 2)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoopOpp")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLSporeCounter",1)
		OP12 A 2 A_Playsound("HLSporeLauncher/Fire", CHAN_WEAPON)
		OP12 B 2 A_FireCustomMissile("HLSporeLauncherSporeMissile",0,0,8)
		goto FireFinishOpp
	FireCoopOpp:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLSporeCounter",1)
		OP12 A 2 A_Playsound("HLSporeLauncher/Fire", CHAN_WEAPON)	
		OP12 B 2 A_FireCustomMissile("HLSporeLauncherSporeMissileCoop",0,0,8)
		goto FireFinishOpp
	FireFinishOpp:
		OP12 CDEFGHIJKLMO 1
		goto WIdle
	AltFire:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "AltFireOpp")
		TNT1 A 0 A_JumpIfInventory("laserdeactive", 1, 1)
		goto AltFire2
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,2)		
		HW55 A 4 A_TakeInventory("laserdeactive",1)
		goto WIdle
		HW54 A 4 A_TakeInventory("laserdeactive",1)
		goto WIdle
	AltFire2:
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,3)			
		HW55 A 4 A_GiveInventory("laserdeactive",1)
		TNT1 A 0 A_KillChildren
		goto WIdle
		HW54 A 4 A_GiveInventory("laserdeactive",1)
		TNT1 A 0 A_KillChildren
		goto WIdle	
	AltFireOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto AltFire+1
		TNT1 A 0 A_JumpIfInventory("HLSporeCounter",1,"AltFireSuccessOpp")
		goto Reload
	AltFireSuccessOpp:
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 5)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"AltFireCoopOpp")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLSporeCounter",1)
		OP12 A 2 A_Playsound("HLSporeLauncher/AltFire", CHAN_WEAPON)
		OP12 B 2 A_FireCustomMissile("HLSporeLauncherSporeGrenade",0,0,8)
		goto AltFireFinishOpp
	AltFireCoopOpp:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLSporeCounter",1)
		OP12 A 2 A_Playsound("HLSporeLauncher/AltFire", CHAN_WEAPON)	
		OP12 B 2 A_FireCustomMissile("HLSporeLauncherSporeGrenadeCoop",0,0,8)
		goto AltFireFinishOpp
	AltFireFinishOpp:
		OP12 CDEFGHIJKLMO 1
		goto WIdle
	Reload:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, "ReloadOpp")
		TNT1 A 0 A_JumpIfInventory("HLRPGCounter",1,"NopeRocket")
		TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,"ReloadSuccess")
		goto Nope
	ReloadSuccess:
		TNT1 A 0 A_GiveInventory("HLRPGReload",1)
		HW57 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW58 ABCDEFGHIJKLMNOP 1
		TNT1 A 0 A_TakeInventory("RocketAmmo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_GiveInventory("HLRPGCounter",1)
		HW58 QRSTUVWXYZ 1
		HW59 ABCDEFGH 1
		TNT1 A 0 A_TakeInventory("HLRPGReload",1)
		goto WIdle
	Nope:
		HW55 A 1 A_PlaySound("halflife/rpg_empty",CHAN_WEAPON)
		HW55 AAA 1
		goto WIdle
	NopeRocket:
		HW54 A 1
		goto WIdle
	ReloadOpp:
		TNT1 A 0 A_JumpIfInventory("HLSporeCounter",0,"WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,"ReloadSuccessOpp")
		Goto WIdleOpp
	ReloadSuccessOpp:
		OP08 ABCDEFGHIJKLMNOPQRST 1
		Goto ReloadAmmoOpp
	ReloadAmmoOpp:
		OP09 A 0 A_JumpIfInventory("HLSporeCounter",0,"ReloadFinishOpp")
		OP09 A 0 A_JumpIfInventory("RocketAmmo",1,1)
		goto ReloadFinishOpp
		OP09 A 0 A_WeaponReady(WRF_NOBOB)
		OP09 A 0 A_TakeInventory("RocketAmmo",1,TIF_NOTAKEINFINITE)
		OP09 A 0 A_GiveInventory("HLSporeCounter",1)
		OP09 A 0 A_JumpIfInventory("RocketAmmo",1,1)
		Goto ReloadAmmoFinish
		OP09 A 0 A_JumpIfInventory("HLSporeCounter",0,"ReloadAmmoFinish")
		OP09 A 0 A_TakeInventory("RocketAmmo",1,TIF_NOTAKEINFINITE)
		OP09 A 0 A_GiveInventory("HLSporeCounter",1)
	ReloadAmmoFinish:
		OP09 A 0 A_Playsound("HLSporeLauncher/Reload", CHAN_WEAPON)
		OP09 ABCDEFGHIJKLMNOPQRSTUVWYZ 1
		OP10 ABC 1 
		OP10 D 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		OP09 A 0 A_Refire("ReloadFinishOpp")
		Goto ReloadAmmoOpp
	ReloadFinishOpp:
		OP11 ABCDEFGHIJKLMNOPQRSTUVWXY 1
		goto WIdle
	}
}

Actor HLRPGRocketBase
{
	PROJECTILE
	+EXTREMEDEATH
	+FORCERADIUSDMG
	-NOGRAVITY
	Speed 12
	Radius 7
	Height 8
	Damagetype "HLRPGExplosive"
	Damage (50)
	scale 0.9
	States
	{
	Spawn:
		TNT1 A 0
		HP50 A 12 bright ThrustThingZ(0,27,0,1)
		TNT1 A 0 A_SpawnItemEx("HLRPGRocket",0,0,4,cos(-pitch)*11,0,sin(-pitch)*11,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH|SXF_SETMASTER)
		stop
	Death:
		TNT1 A 0 A_StopSound
		TNT1 A 0 A_Explode(250,250)
		TNT1 A 5 A_SpawnItemEx("HLMegaExplosionBoom",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		stop
	}
}

Actor HLRPGRocketBase2 : HLRPGRocketBase
{
	States
	{
	Spawn:
		TNT1 A 0
		HP50 A 12 bright ThrustThingZ(0,27,0,1)
		TNT1 A 0 A_SpawnItemEx("HLRPGRocket2",0,0,4,cos(-pitch)*11,0,sin(-pitch)*11,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		stop
	}
}

Actor HLRPGRocketBaseCoop : HLRPGRocketBase
{
	Species "Player"
	+THRUSPECIES
	+DONTHARMCLASS
	+DONTHARMSPECIES
	States
	{
	Spawn:
		TNT1 A 0
		HP50 A 12 bright ThrustThingZ(0,27,0,1)
		TNT1 A 0 A_SpawnItemEx("HLRPGRocketCoop",0,0,4,cos(-pitch)*11,0,sin(-pitch)*11,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH|SXF_SETMASTER)
		Stop
	}
}

Actor HLRPGRocketBaseCoop2 : HLRPGRocketBase2
{
	Species "Player"
	+THRUSPECIES
	+DONTHARMCLASS
	+DONTHARMSPECIES
	States
	{
	Spawn:
		TNT1 A 0
		HP50 A 12 bright ThrustThingZ(0,27,0,1)
		TNT1 A 0 A_SpawnItemEx("HLRPGRocketCoop2",0,0,4,cos(-pitch)*11,0,sin(-pitch)*11,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		Stop
	}
}

Actor HLRPGStartCounter : HLCounter {}
Actor HLRPGRocket
{
	PROJECTILE
	+EXTREMEDEATH
	+FORCERADIUSDMG
	Speed 11 //55
	Radius 7
	Height 8
	Damagetype "HLRPGExplosive"
	Damage (0)
	Scale 0.9
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_PlaySound("halflife/rpg_rockstart",CHAN_BODY)
		TNT1 A 0 ACS_NamedExecuteAlways("rocketFollow",0,0,0,0)
		goto SpawnStart
	SpawnStart:
		TNT1 A 0 A_JumpIfInventory("HLRPGStartCounter",18,"SpawnLoop")
		TNT1 A 0 A_ScaleVelocity(1.093) //11 * x^18 = 55 ----> x = 1.093
		TNT1 A 0 A_GiveInventory("HLRPGStartCounter",1)
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		loop
	SpawnLoop:
		TNT1 A 0 A_PlaySound("halflife/rpg_rockloop",CHAN_BODY,1.0,1) //A_LoopActiveSound
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		goto SpawnLoop+1
	Death:
		TNT1 A 0 A_PlaySound("halflife/mp5_grenadehit",CHAN_BODY,1.0,0) //A_StopSound
		TNT1 A 0 A_Explode(300,250)
		TNT1 A 5 A_SpawnItemEx("HLMegaExplosionBoom",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 ACS_NamedExecuteAlways("rocketCleanup",0,0,0,0)
		stop
	}
}

Actor HLRPGRocket2 : HLRPGRocket
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_PlaySound("halflife/rpg_rockstart",CHAN_BODY)
		goto SpawnStart
	SpawnStart:
		TNT1 A 0 A_JumpIfInventory("HLRPGStartCounter",18,"SpawnLoop")
		TNT1 A 0 A_ScaleVelocity(1.093) //11 * x^18 = 55 ----> x = 1.093
		TNT1 A 0 A_GiveInventory("HLRPGStartCounter",1)
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		loop 
	SpawnLoop:
		TNT1 A 0 A_PlaySound("halflife/rpg_rockloop",CHAN_BODY,1.0,1) //A_LoopActiveSound
		TNT1 A 0 A_SpawnItemEx("HLRPGFlare",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		HP50 A 1 bright A_SpawnItemEx("HLRPGSmoke",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_TRANSFERPITCH)
		goto SpawnLoop+1
	Death:
		TNT1 A 0 A_PlaySound("halflife/mp5_grenadehit",CHAN_BODY,1.0,0) //A_StopSound
		TNT1 A 0 A_Explode(300,250)
		TNT1 A 5 A_SpawnItemEx("HLMegaExplosionBoom",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		stop
	}
}

Actor HLRPGRocketCoop : HLRPGRocket { Species "Player" +THRUSPECIES  }
Actor HLRPGRocketCoop2 : HLRPGRocket2 { Species "Player" +THRUSPECIES  }

Actor HLRPGSmoke
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOBLOCKMAP
	-SOLID
	+NOGRAVITY
	renderstyle add
	scale 0.2
	alpha 0.5
	states
	{
	Spawn:
		HWX2 ABCDEFGHIJKLM 6 A_Fadeout(0.1)
		stop
	}
}

Actor HLRPGFlare
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOBLOCKMAP
	-SOLID
	+NOGRAVITY
	renderstyle add
	scale 0.65
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256,"Flare1","Flare2","Flare3","Flare4","Flare5","Flare6","Flare7")
		goto Flare1
	Flare1:
		HWX6 A 1 bright
		stop
	Flare2:
		HWX6 B 1 bright
		stop
	Flare3:
		HWX6 C 1 bright
		stop
	Flare4:
		HWX6 D 1 bright
		stop
	Flare5:
		HWX6 E 1 bright
		stop
	Flare6:
		HWX6 F 1 bright
		stop
	Flare7:
		HWX6 G 1 bright
		stop
	}
}

Actor RPGLaserdot
{
	Scale 0.5
	+BLOODLESSIMPACT
	+NOBLOCKMAP
    +NOGRAVITY
	-SKYEXPLODE
	+FORCEXYBILLBOARD
	+CLIENTSIDEONLY
	+ALWAYSPUFF
    +PUFFONACTORS
    +DONTSPLASH
	+FIXMAPTHINGPOS
	+FORCEXYBILLBOARD
	renderstyle add
	alpha 1.0
	Mass 0
    Radius 1
    Height 1
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ACS_NamedExecute("getLaserCoords",0,x,y,z)
		HW59 H 1
		stop
	}
}

Actor freeman_slot5selected : Inventory
{
	Inventory.MaxAmount 1
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor laserdeactive : Inventory
{
	Inventory.MaxAmount 1
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor HLRPGReload : Inventory
{
	Inventory.MaxAmount 1
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor HLSporeLauncherSporeMissile
{
	Renderstyle add
	Alpha 0.85
	Radius 8
    Height 16
    Speed 20
    Damage (75)
    PROJECTILE
	+NOGRAVITY
    +EXTREMEDEATH
	Scale 0.9
	DamageType "HLRPGExplosive"
	PoisonDamage 1, 3, 1
	Decal "SporeSplat"
	States
	{
		Spawn:
			TNT1 A 0
		Spawn2:
			TNT1 A 0 A_SpawnItemEx("HLSporeFlare",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("HLSporeLauncherSporeGrenadeTrail",0,0,0,0,FRandom(-2,2),0,0,SXF_NOCHECKPOSITION)
			HL00 A 1 Bright
			Loop
		Death:
			TNT1 A 0 A_PlaySound("HLSporeLauncher/Impact", CHAN_BODY, 1.0)
			TNT1 A 0 A_Explode(150,104)
			TNT1 A 5 A_SpawnItemEx("HLSporeExplode",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			Stop
	}
}

Actor HLSporeLauncherSporeGrenade
{
	Renderstyle add
	Alpha 0.85
	Radius 8
    Height 16
    Speed 20
    Damage (75)
    PROJECTILE
	-NOGRAVITY
    +EXTREMEDEATH
	+BOUNCEONWALLS
	+BOUNCEONFLOORS
	+BOUNCEONCEILINGS
	BounceFactor 1.0
	WallBounceFactor 1.0
	Scale 0.9
	BounceCount 6
	BounceSound "HLSporeLauncher/Bounce"
	WallBounceSound "HLSporeLauncher/Bounce"	
	DamageType "HLRPGExplosive"
	PoisonDamage 1, 3, 1
	Gravity 0.234
	Decal "SporeSplat"
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 ThrustThingZ(0,Random((30-Random(5,0)),15)-Random((Random(10,5)),0),0,1)
		Spawn2:
			TNT1 A 0 A_SpawnItemEx("HLSporeFlare",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("HLSporeLauncherSporeGrenadeTrail",0,0,0,0,FRandom(-2,2),0,0,SXF_NOCHECKPOSITION)
			HL00 A 1 Bright
			Loop
		Death:
			TNT1 A 0 A_PlaySound("HLSporeLauncher/Impact", CHAN_BODY, 1.0)
			TNT1 A 0 A_Explode(150,104)
			TNT1 A 5 A_SpawnItemEx("HLSporeExplode",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			Stop
	}
}

Actor HLSporeLauncherSporeMissileCoop : HLSporeLauncherSporeMissile { Species "Player" +MTHRUSPECIES +THRUSPECIES }
Actor HLSporeLauncherSporeGrenadeCoop : HLSporeLauncherSporeGrenade { Species "Player" +MTHRUSPECIES +THRUSPECIES }

Actor HLSporeLauncherSporeGrenadeTrail
{
	Renderstyle shaded
	Alpha 0.75
	Gravity 0.25
	-NOGRAVITY
	+CLIENTSIDEONLY
	-NOINTERACTION 
	+BRIGHT
	StencilColor "C8DE47"
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_CheckFloor("Death")
			TNT1 A 0 A_Jump(256,"Trail1", "Trail2", "Trail3", "Trail4")
		Trail1:
			HL16 A 1 A_Fadeout(0.033)
			Goto Spawn
		Trail2:
			HL16 B 1 A_Fadeout(0.033)
			Goto Spawn
		Trail3:
			HL16 C 1 A_Fadeout(0.033)
			Goto Spawn
		Trail4:
			HL16 D 1 A_Fadeout(0.033)
			Goto Spawn
		Death:
			TNT1 A 5
			Stop
	}
}

Actor HLSporeExplode
{
	+EXTREMEDEATH
	+NOGRAVITY
	+CLIENTSIDEONLY
	+NOINTERACTION
	Renderstyle Add
	Scale 1.5
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_Jump(128,"Spawn2")
			HL17 ABCDEFGHIJK 2 Bright
			Stop
		Spawn2:
			HL15 ABCDEFGHIJKL 2 Bright
			Stop
	}
}

Actor HLSporeFlare
{
	Renderstyle shaded
	Alpha 0.75
	scale 0.66
	+NOGRAVITY
	+CLIENTSIDEONLY
	+NOINTERACTION 
	+BRIGHT
	StencilColor "C8DE47"
	States
	{
	Spawn:
		TNT1 A 0
		HPI0 F 2 bright
		stop
	}
}