Actor " Laser Pistol " : Weapon
{
  weapon.selectionorder 1900
  weapon.kickback 100
  Weapon.BobStyle Inverse
  Weapon.BobRangeX 0.85
  Weapon.BobSpeed 1.1
  Weapon.AmmoUse 0
  Weapon.AmmoGive 0
  Weapon.AmmoType ""
  Weapon.SlotNumber 1  
  +NOALERT  
  +Inventory.Undroppable
  +WEAPON.WIMPY_WEAPON
  Inventory.RestrictedTo "RebelMoonCommando"
  Tag "Laser Pistol"
  states
  {
  Ready:
    RM2Z A 1 A_WeaponReady
    loop
  Deselect:
	TNT1 A 0 A_Lower
    RM2Z A 1 A_Lower  
    loop
  Select:
	TNT1 A 0 A_Raise
    RM2Z A 1 A_Raise  
    loop
  Fire:
	TNT1 A 0 A_FireBullets(0,0, 1, 0, "SamsaraBlankPuff", FBF_NORANDOM)
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire")  
	TNT1 A 0 A_JumpIfInventory("DMModeOn",1,"DMFire")
	TNT1 A 0 A_PlaySound("RMR/LaserFire")	
    RM2Z B 5 Bright A_FireCustomMissile("RMRLaser")
    RM2Z AAA 4 Bright
	RM2Z A 1 Bright A_Refire
    Goto Ready
  CoopFire:
	TNT1 A 0 A_PlaySound("RMR/LaserFire")
    RM2Z B 5 Bright A_FireCustomMissile("RMRLaserCoop")
	RM2Z AAA 4 Bright
	RM2Z A 1 Bright A_Refire	
    Goto Ready	
  DMFire:
	TNT1 A 0 A_PlaySound("RMR/LaserFire")
    RM2Z B 5 Bright A_FireCustomMissile("RMRLaserDM")
	RM2Z AAA 4 Bright
	RM2Z A 1 Bright A_Refire	
    Goto Ready	
  }
}

Actor RMRLaser : FastProjectile
{
   Height 3
   Radius 2
   Speed 175
   Scale 0.50
   Damage (15)
   PROJECTILE
   DeathSound "RMR/LaserPuff"
   DamageType "RMR-GreenPlasma"   
   Obituary "%k gave %o AH1N1."      
   RenderStyle Add
   -SKYEXPLODE   
   +BLOODSPLATTER
   +FORCEXYBILLBOARD
   States
   {
   Spawn:
      RMZ2 A 1 Bright 
      Loop
   XDeath:
    Crash:
	  TNT1 A 0 A_SpawnItemEx("RMRPlasmaSplash_1",0,0,0,0,0,0,0,128,0)
	  TNT1 A 1 A_PlaySound("RMR/LaserPuff")	  
      stop			  	  
   Death:
	  RMZ2 B 1 Bright
   	  RMZ2 B 1 Bright A_FadeOut(1.0/25.0)
      Wait
   }
}

Actor RMRLaserDM : RMRLaser { Damage (10) }

Actor RMRLaserCoop : RMRLaser { Species "Player" +THRUSPECIES }
