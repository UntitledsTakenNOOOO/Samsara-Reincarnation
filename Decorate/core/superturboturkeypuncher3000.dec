actor ChickenKillCount : Counter { Inventory.MaxAmount 999 }
actor ChickenModeOn : Boolean {}

Actor SuperCoopChicken
{
    Health 50
    Radius 32
    Height 32
    Mass 40
    Speed 15
    PainChance 200
    MeleeRange 64
    Gravity 0.1
    Monster
    -COUNTKILL
    +WINDTHRUST
    +DONTMORPH
    +FLOORCLIP
    +THRUSPECIES
    +NOTDMATCH
    +NOICEDEATH
    DropItem "HealPack0", 64
    DropItem "ArmorScrap", 64
    DropItem "HealPack0", 32
    DropItem "ArmorScrap", 32
    DropItem "HealPack1", 32
    DropItem "HealPack1", 16
    DropItem "ArmorScrap", 16
    DropItem "Ammo1Small", 16
    DropItem "Ammo2Small", 16
    DropItem "Ammo3Small", 16
    DropItem "Ammo4Small", 16
    DropItem "ArmorScrap", 8
    Species "Chicken"
    SeeSound "chicken/pain"
    AttackSound "chicken/attack"
    PainSound "chicken/pain"
    DeathSound "chicken/death"
    ActiveSound "chicken/active"
    Obituary "$SAMSARA_STTP3K_OB_CHICKEN1"
    DamageFactor "CorvusCrossbow", 1.1
    DamageFactor "DragonClaw", 1.5
    DamageFactor "WitchMelee", 1.1	
	DamageFactor "DeusExSabot", 0.8
	DamageFactor "DeusExSabotPistol", 0.8
	PainChance "MightyBoot", 255
	PainChance "CalebFire", 0
	PainChance "WTMelee", 255
	PainChance "WTMeleeIce", 255	  
	PainChance "ShrinkerDMG", 0
	PainChance "PainkillerIce", 0
    States
    {
    Spawn:
        CHKN AB 5 A_Look
        goto See
    Idle:
        TNT1 A 0 A_Look
        CHKN AB 3 A_Wander
        Loop
    See:
        CHKN AB 2 A_Chase
        CHKN AB 2 A_Chase
        CHKN AB 2 A_FastChase
        Loop 
    Pain:
        TNT1 AAAAA 0 A_Feathers
        CHKN D 5 A_Feathers
        CHKN C 5 A_Pain
        Goto See
    Pain.PoisonCloud:
    Pain.Poison:
        CHKN D 5
        CHKN C 5 A_Pain
        Goto See
    Pain.MightyBoot:
        TNT1 A 0 A_ChangeFlag("NOPAIN",1)
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        CHKN D 2 A_FaceTarget
        TNT1 A 0 A_Recoil(14)
        CHKN D 16 A_Pain
        Goto See
	Pain.Hexen2RavenDamage:
		TNT1 A 0 A_Jump(192,"Pain")
		TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawnerColor",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		Goto Pain
	Pain.LifeLeech: 
		TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
		TNT1 A 0 A_GiveToTarget("HealthBonus", 1)
		Goto Pain	
	Pain.Vodoo:
		TNT1 A 0 A_GiveToTarget("Voodoo", 1)
		Goto Pain
    Melee:
        CHKN A 3 A_FaceTarget
        CHKN C 3 A_CustomMeleeAttack(random(1,5))
        Goto See
    Death.MightyBoot:
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        TNT1 A 0 A_Jump(64,"Death")
        TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
        goto Death
    Death:
        TNT1 A 0 A_GiveToTarget("ChickenKillCount",1)
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
        CHKN E 6 A_Scream
        TNT1 AAAAA 0 A_Feathers
        CHKN F 6 A_Feathers
        CHKN G 6
        CHKN H 6 A_NoBlocking
        CHKN IJK 6
        CHKN L -1
        Stop
    Death.DukeDamage:
    Death.DukePistol:
    Death.DukeExplosive:
    Death.DukeSpectral:
        TNT1 A 0 A_Jump(218,"Death")
        TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
        goto Death
	Death.CalebNapalm:
	Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:	  
	Death.Shock:	  	  
	Death.Tesla:
	Death.CalebBullet:
	Death.CalebFire:
	Death.LifeLeech:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		goto Death	
	Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:
	Death.EradExplosive2:	
	Death.EradDisc:
	Death.EradPiercingDart:
	Death.EradGreenFire:
	Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		goto Death
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
	Death.PSBullet:
	Death.PSFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		goto Death
	Death.LeonardDamage2:
	Death.LeonardDamage3:
	Death.LeonardDamage0:
	Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		goto Death
	Death.SWFist:
	Death.SWKatana:
	Death.SWShuriken:
	Death.SWSticky:
	Death.SWStickyCoop:		
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
	Death.SWBullet:	 
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:		
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
    Death.WolfenFlamethrower:
	Death.TotenkopfFire:
        CHKN E 0 A_Scream
        CHKN E 0 A_GiveToTarget("ChickenKillCount",1)
		CHKN E 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        CHKN EEEEEEE 0 A_Feathers
        CHKN E 0 A_SpawnItem("WolfensteinChickenLeg")
        ACLO E -1
        stop
	Death.ZorchPistol:
	Death.Zorch:
	Death.ZorchKamikaze:
	Death.PhasingZorch:
	Death.ZorchSpectral:
		"####" "#" 0 A_JumpIfInventory("IsAFlyingActor", 1, "ZorchFlyingDeath")
		"####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSuperTiny")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A 0 A_Gravity
		TNT1 A 0
		stop
	ZorchFlyingDeath:
		"####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_NoGravity
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSuperTiny")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A 0 A_Gravity
		TNT1 A 0
		stop
	Death.RottDisintegrate:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking	
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_SpawnItem("RGodModeDeathTiny")
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		TNT1 A 0
		stop
	Disintegrate:
		"####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectTiny",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		TNT1 A 0
		stop
	Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking		
		"####" "#" 0 A_SpawnItem("WTNukeDeathTiny")
		"####" "#################" 3 A_Fadeout(0.05)
		TNT1 A 0
		stop	
    Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.Ice:
        "####" "#" 0 A_GiveToTarget("ChickenKillCount",1)
        "####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        "####" "#" 0 A_UnsetSolid
        "####" "#" 70 A_GenericFreezeDeath
        "####" "#" 0 A_IceGuyDie
        "####" "#" 1 A_IceGuyDie
        TNT1 A 0
        stop
	Death.DeusExMelee:
	Death.DeusExStunned:
	Death.DeusExLAM:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 0)
		TNT1 A -1 A_Jump(256, "Death")
		Wait						
	Death.DeusExPistol:
	Death.DeusExKnockedOut:
	Death.DeusExPoisonEffect:
	Death.DeusExSabotPistol:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 1)
		TNT1 A -1 A_Jump(256, "Death")
		Wait			
	Death.DeusExPistolFire:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 1)
		TNT1 A -1 A_Jump(256, "Burn")
		Wait		
	Death.DeusExSabot:
	Death.DeusExRifleShot:
	Death.DeusExRifleExploded:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 2)
		TNT1 A -1 A_Jump(256, "Death")
		Wait					
	Death.DeusExFlamed:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 3)
		TNT1 A -1 A_Jump(256, "Burn")
		Wait				
	Death.DeusExBurned:
	Death.DeusExExploded:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 3)
		TNT1 A -1 A_Jump(256, "Death")
		Wait		
    }
}

actor SuperDMChicken : SuperCoopChicken
{
    Health 40
    Radius 24
    Height 24
    +FRIGHTENED
}

actor SuperFriendlyChicken : SuperCoopChicken
{
    Health 40
    Radius 24
    Height 24
    +FRIENDLY
    -ISMONSTER
    Species "Player"
    DropItem "BulletPuff"
    DamageFactor "DukeExplosive", 0.0
    DamageFactor "Explosive", 0.0
    DamageFactor "BFGSplash", 0.0
    DamageFactor "Zorch", 0.0
    DamageFactor "BJSpear", 0.0
    DamageFactor "HexenIce", 0.0
    DamageFactor "Poison", 0.0
    DamageFactor "PoisonCloud", 0.0
    DamageFactor "FireExplosive", 0.0
    DamageFactor "Wraithverge", 0.0
    DamageFactor "MightyBoot", 0.0
    DamageFactor "DukeFreezethrower", 0.0
    DamageFactor "WMCBeam", 0.0
    DamageFactor "WMCNade", 0.0
    DamageFactor "Chainsaw", 0.0
    DamageFactor "TimonsAxe", 0.0
    DamageFactor "NotQuadded", 0.0
    DamageFactor "VillainTeam", 0.0
    DamageFactor "Pistol", 0.0
    DamageFactor "ZorchPistol", 0.0
    DamageFactor "Telefrag", 0.0
    DamageFactor "CorvusHellstaff", 0.0
    DamageFactor "VillainTeamFire", 0.0
}

actor ChickodemonBall : CacodemonBall
{
    Scale 0.5
    Speed 30
    Damage 4
    DamageType "DoomCacodemon"
    SeeSound "friendlyimp/attack"
    DeathSound "friendlyimp/shot"
    +STRIFEDAMAGE
    +THRUGHOST
	States
	{
	Spawn:
		BALZ AB 4 BRIGHT
		Loop
	Death:
		BALZ CDE 6 BRIGHT
		Stop
	}
}

actor AssaultChicken : SuperCoopChicken
{
    Scale 1.5
    Health 50
    +FLOAT
    +NOGRAVITY
    +MISSILEMORE
    +MISSILEEVENMORE
    Speed 20
    Obituary "$SAMSARA_STTP3K_OB_CHICKEN2"
    Species "Chicken"
    DropItem "BulletPuff"
    States
    {
	Spawn:
		TNT1 A 0 NoDelay A_GiveInventory("IsAFlyingActor")
	Spawn2:
        ZHK2 AB 5 A_Look
        goto See
    Idle:
        TNT1 A 0 A_Look
        ZHK2 AB 3 A_Wander
        Loop
    See:
        ZHK2 AB 2 A_Chase
        ZHK2 AB 2 A_Chase
        ZHK2 AB 2 A_FastChase
        Loop
    Pain:
        TNT1 AAAAA 0 A_Feathers
        ZHK2 D 5 //A_Feathers
        ZHK2 C 5 A_Pain
        Goto See
    Pain.MightyBoot:
        TNT1 A 0 A_ChangeFlag("NOPAIN",1)
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        ZHK2 D 2 A_FaceTarget
        TNT1 A 0 A_Recoil(14)
        ZHK2 D 16 A_Pain
        Goto See
    Pain.PoisonCloud:
    Pain.Poison:
        ZHK2 D 5
        ZHK2 C 5 A_Pain
        Goto See
    Melee:
        ZHK2 A 3 A_FaceTarget
        ZHK2 C 3 A_CustomMeleeAttack(random(1,5))
        Goto See
    Missile:
        ZHK2 A 2 A_FaceTarget
        ZHK2 C 2 A_CustomMissile("ChickodemonBall")
        Goto See
	Death.DukeDamage:
    Death.DukePistol:
    Death.DukeExplosive:
    Death.DukeSpectral:
        TNT1 A 0 A_Jump(218,"Death")
        TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
        goto Death
    Death.MightyBoot:
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        TNT1 A 0 A_Jump(64,"Death")
        TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
        goto Death
    Death:
        TNT1 A 0 A_GiveToTarget("ChickenKillCount",1)
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_Gravity
        ZHK2 E 6 A_Scream
        TNT1 AAAAA 0 //A_Feathers
        ZHK2 F 6 //A_Feathers
        ZHK2 G 6
        ZHK2 H 6 A_NoBlocking
        ZHK2 IJK 6
        ZHK2 L -1
        Stop
	Death.WolfenFlamethrower:
	Death.TotenkopfFire:
        ZHK2 E 0 A_Scream
        ZHK2 E 0 A_GiveToTarget("ChickenKillCount",1)
		ZHK2 E 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        ZHK2 EEEEEEE 0 //A_Feathers
        ZHK2 E 0 A_SpawnItem("WolfensteinChickenLeg")
        ACLO E -1
        stop
    }
}

actor AssaultFriendlyChicken : AssaultChicken
{
    +FRIENDLY
    -ISMONSTER
    Species "Player"
    DamageFactor "DukeExplosive", 0.0
    DamageFactor "Explosive", 0.0
    DamageFactor "BFGSplash", 0.0
    DamageFactor "Zorch", 0.0
    DamageFactor "BJSpear", 0.0
    DamageFactor "HexenIce", 0.0
    DamageFactor "Poison", 0.0
    DamageFactor "PoisonCloud", 0.0
    DamageFactor "FireExplosive", 0.0
    DamageFactor "Wraithverge", 0.0
    DamageFactor "MightyBoot", 0.0
    DamageFactor "DukeFreezethrower", 0.0
    DamageFactor "WMCBeam", 0.0
    DamageFactor "WMCNade", 0.0
    DamageFactor "Chainsaw", 0.0
    DamageFactor "TimonsAxe", 0.0
    DamageFactor "NotQuadded", 0.0
    DamageFactor "VillainTeam", 0.0
    DamageFactor "Pistol", 0.0
    DamageFactor "ZorchPistol", 0.0
    DamageFactor "Telefrag", 0.0
    DamageFactor "CorvusHellstaff", 0.0
    DamageFactor "VillainTeamFire", 0.0
}

actor ExplosiveChicken : SuperCoopChicken
{
    Health 40
    Scale 1.75
    Speed 30
    MeleeRange 128
    Obituary "$SAMSARA_STTP3K_OB_CHICKEN3"
    +THRUSPECIES
    +NOTARGET
    Species "Chicken"
    DropItem "BulletPuff"
    States
    {
    Spawn:
        ZHK3 AB 5 A_Look
        goto See
    Idle:
        TNT1 A 0 A_Look
        ZHK3 AB 3 A_Wander
        Loop
    See:
        ZHK3 AB 2 A_Chase
        ZHK3 AB 2 A_Chase
        ZHK3 AB 2 A_FastChase
        Loop
    Pain:
        TNT1 AAAAA 0 A_Feathers
        ZHK3 D 5 A_Feathers
        ZHK3 C 5 A_Pain
        Goto See
    Pain.MightyBoot:
        TNT1 A 0 A_ChangeFlag("NOPAIN",1)
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        ZHK3 D 2 A_FaceTarget
        TNT1 A 0 A_Recoil(14)
        ZHK3 D 16 A_Pain
        Goto See
    Pain.PoisonCloud:
    Pain.Poison:
        ZHK3 D 5
        ZHK3 C 5 A_Pain
        Goto See
    Melee:
        ZHK3 A 3 A_FaceTarget
        TNT1 A 0 A_SpawnItemEx("DoomguyDiesWhenHeIsKilled",0,0,16,0,0,0,0,32)
        ZHK3 E 1 A_SpawnItemEx("ChickenExplode",0,0,16,0,0,0,0,32)
        ZHK3 E 1
        goto Death 
    Death.DukeDamage:
    Death.DukePistol:
    Death.DukeExplosive:
    Death.DukeSpectral:
        TNT1 A 0 A_Jump(218,"Death")
        TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
        goto Death
    Death.MightyBoot:
        TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
        TNT1 A 0 A_Jump(64,"Death")
        TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
        goto Death
    Death:
        TNT1 A 0 A_GiveToTarget("ChickenKillCount",1)
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
        ZHK3 E 6 A_Scream
        TNT1 AAAAA 0 A_Feathers
        ZHK3 F 6 A_Feathers
        ZHK3 G 6
        ZHK3 H 6 A_NoBlocking
        ZHK3 IJK 6
        ZHK3 L -1
        Stop
    Death.WolfenFlamethrower:
	Death.TotenkopfFire:
        ZHK3 E 0 A_Scream
        ZHK3 E 0 A_GiveToTarget("ChickenKillCount",1)
		ZHK3 E 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        ZHK3 EEEEEEE 0 A_Feathers
        ZHK3 E 0 A_SpawnItem("WolfensteinChickenLeg")
        ACLO E -1
        stop
    }
}

actor ExplosiveFriendlyChicken : ExplosiveChicken
{
    +FRIENDLY
    -ISMONSTER
    Species "Player"
    DamageFactor "DukeExplosive", 0.0
    DamageFactor "Explosive", 0.0
    DamageFactor "BFGSplash", 0.0
    DamageFactor "Zorch", 0.0
    DamageFactor "BJSpear", 0.0
    DamageFactor "HexenIce", 0.0
    DamageFactor "Poison", 0.0
    DamageFactor "PoisonCloud", 0.0
    DamageFactor "FireExplosive", 0.0
    DamageFactor "Wraithverge", 0.0
    DamageFactor "MightyBoot", 0.0
    DamageFactor "DukeFreezethrower", 0.0
    DamageFactor "WMCBeam", 0.0
    DamageFactor "WMCNade", 0.0
    DamageFactor "Chainsaw", 0.0
    DamageFactor "TimonsAxe", 0.0
    DamageFactor "NotQuadded", 0.0
    DamageFactor "VillainTeam", 0.0
    DamageFactor "Pistol", 0.0
    DamageFactor "ZorchPistol", 0.0
    DamageFactor "Telefrag", 0.0
    DamageFactor "CorvusHellstaff", 0.0
    DamageFactor "VillainTeamFire", 0.0
    DamageType "EnemyInfightDamage"
    States
    {
    Melee:
        ZHK3 A 3 A_FaceTarget
        TNT1 A 0 A_SpawnItemEx("DoomguyDiesWhenHeIsKilled",0,0,16,0,0,0,0,32)
        ZHK3 E 1 A_Explode(128,192,0)
        ZHK3 E 1
        goto Death
    }
}

actor ChickenExplode
{
    Radius 1
    Height 1
    Speed 0
    +NOCLIP
    +FORCERADIUSDMG
    -SOLID
    Obituary "$SAMSARA_STTP3K_OB_CHICKEN3"
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 1 A_Explode(128,192,0)
        Stop
    }
}